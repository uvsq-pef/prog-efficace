<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>Introduction</title><meta name="author" content="Stéphane Lopes &lt;stephane.lopes@uvsq.fr&gt;, Pablo de Oliveira Castro &lt;pablo.oliveira@uvsq.fr&gt;"><link rel="stylesheet" href="reveal.js/dist/reset.css"><link rel="stylesheet" href="reveal.js/dist/reveal.css"><link rel="stylesheet" href="reveal.js/dist/theme/beige.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* source blocks */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* auto-animate feature */
/* hide the scrollbar when auto-animating source blocks */
.reveal pre[data-auto-animate-target] {
  overflow: hidden;
}

.reveal pre[data-auto-animate-target] code {
  overflow: hidden;
}

/* add a min width to avoid horizontal shift on line numbers */
code.hljs .hljs-ln-line.hljs-ln-n {
  min-width: 1.25em;
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}

.byline {
  font-size:.8em
}
ul.byline {
  list-style-type: none;
}
ul.byline li + li {
  margin-top: 0.25em;
}
</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/v4-shims.min.css"><script>window.MathJax = {"tex":{"inlineMath":[["\\(","\\)"]],"displayMath":[["\\[","\\]"]],"processEscapes":false,"tags":"none"},"options":{"ignoreHtmlClass":"nostem|nolatexmath"},"asciimath":{"delimiters":[["\\$","\\$"]]},"loader":{"load":["input/asciimath","output/chtml","ui/menu"]}};</script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script><link rel="stylesheet" href="css/custom.css"></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Introduction</h1><p class="byline">
  <span class="author">Stéphane Lopes &lt;stephane.lopes@uvsq.fr&gt;, Pablo de Oliveira Castro &lt;pablo.oliveira@uvsq.fr&gt;</span>
  </p></section><section><section id="_programmation_efficace"><h2>Programmation efficace</h2></section><section id="_objectifs_du_cours_programmation_efficace"><h2>Objectifs du cours « Programmation efficace »</h2><div class="slide-content"><div class="ulist"><ul><li><p>Comprendre les mécanismes utilisés dans les langages de programmation et leur impact sur l&#8217;efficacité des applications</p></li><li><p>Découvrir les caractéristiques d&#8217;un langage statiquement typé et compilé</p></li><li><p>Présenter les outils de développement associés (compilateur, build, tests)</p></li><li><p>Sensibiliser aux difficultés liées à la gestion de la mémoire, à la gestion d&#8217;erreurs, aux I/O, au multi-threading</p></li><li><p>Mettre en évidence les différences d&#8217;efficacité liées aux points précédents</p></li></ul></div></div></section><section id="_quentend_on_par_efficacité"><h2>Qu&#8217;entend-on par efficacité ?</h2><div class="slide-content"><div class="ulist"><ul><li><p>La notion d&#8217;efficacité couvre un large spectre de critères</p><div class="ulist"><ul><li><p>performances à l&#8217;exécution (temps d&#8217;exécution, cycles CPU, consommation mémoire)</p></li><li><p>performances énergétiques (consommation d&#8217;énergie, impact environnemental)</p></li></ul></div></li><li><p>Certains de ces critères peuvent être antagonistes</p></li><li><p>Les choix finaux relèvent souvent d&#8217;un compromis</p></li><li><p>La question de l&#8217;efficacité peut aussi se poser pour le cycle de développement lui-même</p></li></ul></div></div></section><section id="_références"><h2>Références</h2><div class="slide-content"><div class="ulist"><ul><li><p><a href="https://reberhardt.com/cs110l/">CS 110L: Safety in Systems Programming</a> (<a href="https://reberhardt.com/blog/2020/10/05/designing-a-new-class-at-stanford-safety-in-systems-programming.html">blog</a>)</p></li><li><p><em>Portegies Zwart, S.</em> <a href="https://arxiv.org/pdf/2009.11295.pdf">The Ecological Impact of High-performance Computing in Astrophysics</a>. Nat Astron 4, 819–822 (2020) : article dans Nature qui compare l&#8217;impact carbone de différents langages de programmation pour des codes d&#8217;astrophysique</p></li><li><p><em>Rui Pereira, and al.</em> <a href="https://greenlab.di.uminho.pt/wp-content/uploads/2017/09/paperSLE.pdf">Energy efficiency across Programming Languages</a>: how do energy, time, and memory relate? In Proceedings of the 10th ACM SIGPLAN International Conference on Software Language Engineering (SLE 2017). Association for Computing Machinery, New York, NY, USA, 256–267 : article dans SLE qui mesure l&#8217;efficacité énergétique de plusieurs langages de programmation</p></li><li><p><em>Cyrille Bonamy</em>, et al.. <a href="https://hal.archives-ouvertes.fr/hal-03009741/">Je code : les bonnes pratiques en éco-conception de service numérique à destination des développeurs de logiciels</a>. 2022, pp.1-19. ⟨hal-03009741v4⟩</p></li><li><p><em>Kheira Bettayeb</em>. <a href="https://lejournal.cnrs.fr/articles/comment-rendre-les-applications-moins-energivores">Comment rendre les applications moins énergivores ?</a>. CNRS Le journal, 2022.</p></li></ul></div></div></section></section>
<section><section id="_caractéristiques_des_langages_de_programmation"><h2>Caractéristiques des langages de programmation</h2></section><section id="_implémentation_des_langages"><h2>Implémentation des langages</h2><div class="slide-content"><div class="ulist"><ul><li><p>Avec un <em>langage compilé</em><sup><span class="icon"><a class="image" href="https://en.wikipedia.org/wiki/Compiled_language"><i class="fa fa-wikipedia-w"></i></a></span></sup>, le <em>code source</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Code_source"><i class="fa fa-wikipedia-w"></i></a></span></sup> du programme est transformé en <em>code machine</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Code_objet"><i class="fa fa-wikipedia-w"></i></a></span></sup> par le <em>compilateur</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Compilateur"><i class="fa fa-wikipedia-w"></i></a></span></sup></p></li><li><p>Dans un <em>langage interprété</em><sup><span class="icon"><a class="image" href="https://en.wikipedia.org/wiki/Interpreted_language"><i class="fa fa-wikipedia-w"></i></a></span></sup>, le code source du programme est exécuté « à la volée » par l'<em>interpréteur</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Interpr%C3%A8te_(informatique)"><i class="fa fa-wikipedia-w"></i></a></span></sup></p></li><li><p>Certains langages sont à la fois compilés et interprétés</p></li><li><p>Il existe des approches intermédiaires (compilation <em>Just In Time</em> (JIT)<sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Compilation_%C3%A0_la_vol%C3%A9e"><i class="fa fa-wikipedia-w"></i></a></span></sup>)</p></li></ul></div></div></section><section><div class="slide-content"><h3>C est compilé</h3><div class="listingblock"><div class="title">Compilation séparée (produit <code>util.o</code> et <code>main.o</code>)</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ gcc -c util.c
$ gcc -c main.c</code></pre></div></div>
<div class="listingblock"><div class="title">Édition de liens (produit <code>monprog</code>)</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ gcc -o monprog main.o util.o</code></pre></div></div>
<div class="listingblock"><div class="title"><code>monprog</code> est exécutable</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ ./monprog</code></pre></div></div></div></section><section><div class="slide-content"><h3>Python est interprété</h3><div class="listingblock"><div class="title">Exécution d&#8217;un programme Python</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ python3 monprog.py</code></pre></div></div></div></section><section><div class="slide-content"><h3>Java est compilé puis interprété (JIT)</h3><div class="listingblock"><div class="title">Compilation en <em>bytecode</em> (produit <code>Main.class</code>)</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ javac Main.java</code></pre></div></div>
<div class="listingblock"><div class="title">Exécution avec la JVM (<em>Java Virtual Machine</em>)</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ java Main</code></pre></div></div></div></section><section id="_langage_de_scripts"><h2>Langage de scripts</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <em>script</em> est un programme destiné à automatiser l&#8217;enchaînement de tâches dans un environnement particulier</p></li><li><p>Un <em>langage de scripts</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Langage_de_script"><i class="fa fa-wikipedia-w"></i></a></span></sup> est un langage de programmation permettant de développer des scripts</p></li><li><p>Il permet d&#8217;invoquer les primitives du système sous-jacent</p></li><li><p>Il dispose en général d&#8217;un <em>REPL</em> (<em>Read-Eval-Print Loop</em><sup><span class="icon"><a class="image" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop"><i class="fa fa-wikipedia-w"></i></a></span></sup>)</p></li><li><p>Quelques exemples</p><div class="ulist"><ul><li><p>shells<sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Interpr%C3%A9teur_de_commandes"><i class="fa fa-wikipedia-w"></i></a></span></sup> pour les OS : <a href="https://www.gnu.org/software/bash/">Bash</a>, <a href="https://www.zsh.org/">Zsh</a>, <a href="https://www.tcsh.org/">tcsh</a></p></li><li><p><a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/">ECMAScript</a> (Javascript) pour les navigateurs web</p></li><li><p><a href="https://www.lua.org/">Lua</a> embarqué dans une application (<a href="https://wiki.videolan.org/Documentation:Building_Lua_Playlist_Scripts/"><em>VLC Media Player</em></a>, jeu <a href="https://wiki.wesnoth.org/LuaWML"><em>Battle for Wesnoth</em></a>)</p></li></ul></div></li></ul></div></div></section><section id="_système_de_typage"><h2>Système de typage</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <em>système de typage</em> attribue des types aux éléments du langage</p></li><li><p>Attribuer un type à une expression permet de limiter les erreurs de programmation</p><div class="ulist"><ul><li><p>en définissant ce qu&#8217;il est possible de faire avec une expression</p></li><li><p>en définissant les règles de compatibilité entre expressions</p></li><li><p>en vérifiant ces contraintes</p></li></ul></div></li></ul></div></div></section><section><div class="slide-content"><h3>Typage explicite vs. implicite</h3><div class="ulist"><ul><li><p>Le typage est <em>explicite</em> si les annotations de type sont visibles dans le code source</p><div class="listingblock"><div class="title">En C, chaque déclaration de variable précise son type</div><div class="content"><pre class="highlightjs highlight"><code class="language-C hljs" data-noescape="true" data-lang="C">int nombre = 1;
double pi = 3.141592;</code></pre></div></div></li><li><p>Le typage est <em>implicite</em> si les types ne sont pas précisés dans le code source</p><div class="listingblock"><div class="title">En Python, la première affectation crée la variable</div><div class="content"><pre class="highlightjs highlight"><code class="language-python hljs" data-noescape="true" data-lang="python">nombre = 1
pi = 3.141592</code></pre></div></div></li><li><p>Des langages à typage explicite peuvent faire appel à l'<em>inférence de types</em> dans certaines situations</p><div class="ulist"><ul><li><p>permet la déduction automatique des types</p></li></ul></div></li></ul></div></div></section><section><div class="slide-content"><h3>Typage statique vs. dynamique</h3><div class="ulist"><ul><li><p>Le typage est <em>statique</em> si l&#8217;information de type est associée à l&#8217;identificateur</p><div class="ulist"><ul><li><p>&#8658; la vérification des types peut être réalisée lors de la compilation</p></li></ul></div></li><li><p>Le typage est <em>dynamique</em> si l&#8217;information de type est portée par l&#8217;objet lui-même</p><div class="ulist"><ul><li><p>&#8658; la vérification se fait durant l&#8217;exécution</p></li></ul></div></li></ul></div></div></section><section><div class="slide-content"><h3>Typage statique</h3><div class="ulist"><ul><li><p>Améliore la fiabilité du programme (plus de vérifications plus précoces)</p></li><li><p>Meilleur support des outils (IDE)</p></li><li><p>Meilleures performances</p></li></ul></div>
<div class="listingblock"><div class="title">En C, les erreurs de type sont identifiées par le compilateur</div><div class="content"><pre class="highlightjs highlight"><code class="language-C hljs" data-noescape="true" data-lang="C">double a = "une chaine";
// error: incompatible types when initializing type ‘double’ using type ‘char *’</code></pre></div></div></div></section><section><div class="slide-content"><h3>Typage dynamique</h3><div class="ulist"><ul><li><p>Offre plus de souplesse dans l&#8217;écriture du code source</p><div class="ulist"><ul><li><p><em>duck typing</em>, <em>data as code</em>, métaprogrammation</p></li></ul></div></li><li><p>Permet le prototypage rapide</p></li></ul></div>
<div class="listingblock"><div class="title">En Python, les erreurs de type peuvent passer inaperçues</div><div class="content"><pre class="highlightjs highlight"><code class="language-python hljs" data-noescape="true" data-lang="python">pi = 3.14_15_92
pi = 'π'
print(pi * 2) // affiche ππ</code></pre></div></div></div></section><section><div class="slide-content"><h3>Typage fort vs. faible</h3><div class="ulist"><ul><li><p>Le typage est <em>fort</em> si les manipulations entre données de types différents sont limitées et contrôlées</p></li><li><p>Le typage est <em>faible</em> si les possibilités de transtypage sont nombreuses et implicites</p></li><li><p>Ces notions sont relativement floues</p></li></ul></div>
<div class="listingblock"><div class="title">Le C est à typage fort mais…</div><div class="content"><pre class="highlightjs highlight"><code class="language-C hljs" data-noescape="true" data-lang="C">int a = "une chaine";
printf("%d\n", a); // 443215...</code></pre></div></div></div></section><section id="_support_des_paradigmes_de_programmation"><h2>Support des paradigmes de programmation</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <strong>paradigme de programmation</strong> représente la façon d&#8217;aborder un problème et d&#8217;en concevoir la solution.</p></li><li><p>Quelques paradigmes</p><div class="ulist"><ul><li><p>Programmation impérative</p><div class="ulist"><ul><li><p>Programmation structurée</p></li><li><p>Programmation modulaire</p></li><li><p>Programmation par abstraction de données</p></li><li><p>Programmation objet</p></li></ul></div></li><li><p>Programmation fonctionnelle</p></li><li><p>Programmation logique</p></li></ul></div></li><li><p>Un langage <strong>supporte un paradigme</strong> quand il fournit les fonctionnalités pour utiliser ce style (de façon simple, sécurisée et efficace)</p></li></ul></div></div></section><section><div class="slide-content"><h3>Exemple - Programmation logique avec Prolog</h3><div class="paragraph"><p>Prolog est un langage déclaratif qui permet de définir et d&#8217;interroger une <em>base de faits</em></p></div>
<div class="listingblock"><div class="title">Un <em>fait</em> est une assertion simple</div><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- Idéfix est un chien
chien(idefix).</code></pre></div></div>
<div class="listingblock"><div class="title">Une <em>règle</em> décrit une inférence à partir des faits</div><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- Les chiens aiment les arbres
aimeLesArbres(X):- chien(X).</code></pre></div></div>
<div class="listingblock"><div class="title">Une <em>requête</em> est une question sur la <em>base de connaissance</em></div><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- Idéfix aime-t'il les arbres ?
?- aimeLesArbres(idefix)</code></pre></div></div></div></section><section><div class="slide-content"><h3>Solveur de Sudoku \(4 xx 4\) en Prolog - Requête</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- requête

| ?- sudoku([_, _, 2, 3,
             _, _, _, _,
             _, _, _, _,
             3, 4, _, _],
             Solution).</code></pre></div></div></div></section><section><div class="slide-content"><h3>Solveur de Sudoku \(4 xx 4\) en Prolog - Résolution 1/3</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- la solution doit être unifiée avec le problème
- le problème comporte 16 chiffres
- chaque chiffre est compris entre 1 et 4 (fd_domain)

sudoku(Puzzle, Solution) :-
  Solution = Puzzle,
  Puzzle = [A1, A2, A3, A4,
            B1, B2, B3, B4,
            C1, C2, C3, C4,
            D1, D2, D3, D4],
  fd_domain(Puzzle, 1, 4),</code></pre></div></div></div></section><section><div class="slide-content"><h3>Solveur de Sudoku \(4 xx 4\) en Prolog - Résolution 2/3</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- les blocs (lignes, colonnes et carrés) sont définis

  Row1 = [A1, A2, A3, A4],
  Row2 = [B1, B2, B3, B4],
  Row3 = [C1, C2, C3, C4],
  Row4 = [D1, D2, D3, D4],

  Col1 = [A1, B1, C1, D1],
  Col2 = [A2, B2, C2, D2],
  Col3 = [A3, B3, C3, D3],
  Col4 = [A4, B4, C4, D4],

  Square1 = [A1, A2, B1, B2],
  Square2 = [A3, A4, B3, B4],
  Square3 = [C1, C2, D1, D2],
  Square4 = [C3, C4, D3, D4],</code></pre></div></div></div></section><section><div class="slide-content"><h3>Solveur de Sudoku \(4 xx 4\) en Prolog - Résolution 3/3</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-prolog hljs" data-noescape="true" data-lang="prolog">- le prédicat valid reçoit une liste de 12 blocs
- la liste vide est valide
- la tête de la liste ne comporte pas de doublons (fd_all_different)
- le reste de la liste doit être valide

valid([]).
valid([Head|Tail]) :-
  fd_all_different(Head),
  valid(Tail).

- une solution possède des blocs valides

  valid([Row1, Row2, Row3, Row4,
         Col1, Col2, Col3, Col4,
         Square1, Square2, Square3, Square4]).</code></pre></div></div></div></section><section><div class="slide-content"><h3>Exemple - Programmation fonctionnelle avec Haskell</h3><div class="ulist"><ul><li><p>Haskell est un langage fonctionnel</p></li><li><p>Possède un système de typage statique, fort et principalement implicite (inférence de types)</p></li></ul></div></div></section><section><div class="slide-content"><h3>Haskell 1/2</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-haskell hljs" data-noescape="true" data-lang="haskell">-- Calcul de la fonction factorielle

-- Récursive
fact x = if x == 0 then 1 else fact (x - 1) * x

-- Pattern matching
fact 0 = 1
fact x = x * fact (x - 1)

-- Gardes
fact x
   | x &gt; 1 = x * fact (x - 1)
   | otherwise = 1

-- Liste et intervalle
fac x = product [1..x]</code></pre></div></div></div></section><section><div class="slide-content"><h3>Haskell 2/2</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-haskell hljs" data-noescape="true" data-lang="haskell">-- Fonctions d'ordre supérieure
mapList f [] = []
mapList f (x:xs) = f x : mapList f xs

-- Listes en compréhension et évaluation paresseuse
take 10 [ (i,j) | i &lt;- [1..], j &lt;- [1..], i &lt; j ]</code></pre></div></div></div></section><section id="_langage_impératif"><h2>Langage impératif</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <em>langage impératif</em> représente un programme comme une séquence d&#8217;instructions qui modifient son état au cours de son exécution</p></li><li><p>Un programme décrit <strong>comment</strong> aboutir à la solution du problème</p></li><li><p>Proche de l&#8217;architecture matérielle des ordinateurs (<em>architecture de von Neumann</em>)</p></li><li><p>De nombreux langages populaires sont de ce type (C, Java, Python)</p></li></ul></div></div></section><section id="_langage_déclaratif"><h2>Langage déclaratif</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <em>langage déclaratif</em> permet de décrire ce que le programme doit faire (le <strong>quoi</strong>) et non pas comment il doit le faire (le <strong>comment</strong>)</p></li><li><p>Un programme respectant ce style décrit le problème à traiter</p></li><li><p>Quelques exemples : Prolog, SQL</p></li><li><p>Certains langages impératifs embarquent des constructions déclaratives</p></li></ul></div></div></section><section id="_gestion_de_la_mémoire"><h2>Gestion de la mémoire</h2><div class="slide-content"><div class="ulist"><ul><li><p>La gestion de la mémoire dans un langage de programmation décrit comment les objets inutilisés sont identifiés et désalloués</p><div class="ulist"><ul><li><p>nécessaire pour éviter les <em>fuites de mémoire</em> (<em>memory leaks</em>)</p></li></ul></div></li><li><p>La plupart des langages ont une gestion automatique de la mémoire et s&#8217;appuient sur un <em>ramasse-miettes</em> (<em>garbage collector</em>)</p></li></ul></div>
<div class="listingblock"><div class="title">En Java, le ramasse-miettes est chargé de libérer la mémoire allouée dynamiquement</div><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-noescape="true" data-lang="java">int[] tableau = new int[10]; // allocation d'un tableau de 10 cases
// la désallocation est automatique</code></pre></div></div>
<div class="listingblock"><div class="title">Les langages C et C++ ont une gestion manuelle de la mémoire</div><div class="content"><pre class="highlightjs highlight"><code class="language-C hljs" data-noescape="true" data-lang="C">int[] tableau = malloc(10 * sizeof(int)); // allocation d'un tableau de 10 cases
// ...
free(tableau); // libération de la mémoire</code></pre></div></div></div></section><section id="_caractéristiques_de_quelques_langages"><h2>Caractéristiques de quelques langages</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:16.6666%"><col style="width:16.6666%"><col style="width:16.6666%"><col style="width:16.6666%"><col style="width:16.6666%"><col style="width:16.667%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Langage</th><th class="tableblock halign-left valign-top">Implémentation</th><th class="tableblock halign-left valign-top">Scripts</th><th class="tableblock halign-left valign-top">Typage</th><th class="tableblock halign-left valign-top">Paradigme</th><th class="tableblock halign-left valign-top">Mémoire</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Compilé</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Non</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">explicite, statique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">procédural</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">manuelle</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Java</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Compilé, interprété</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Non</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">explicite, statique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">OO, fonc., générique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">PHP</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Interprété</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Oui</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">implicite, dynamique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">proc., OO</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Python</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Compilé, Interprété</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Oui</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">implicite, dynamique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">proc., OO, fonc.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Rust</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Compilé</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Non</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">implicite, statique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">proc., fonc., générique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">manuelle</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Scala</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Compilé, interprété</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Oui</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">implicite, statique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">OO, fonc., générique</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td></tr></table></div></section></section>
<section><section id="_rust_refcard"><h2>Rust RefCard</h2></section><section id="_le_langage_rust"><h2>Le langage Rust</h2><div class="slide-content"><h3>Historique</h3><div class="ulist"><ul><li><p>Conçu et développé initialement par Graydon Hoare (Mozilla Research) en 2010</p></li><li><p>Première version stable en 2015</p></li></ul></div>
<h3>Caractéristiques du langage</h3><div class="ulist"><ul><li><p>Langage compilé à typage statique fort</p></li><li><p>Supporte les paradigmes impératif, fonctionnel et concurrent</p></li><li><p>Gestion manuelle de la mémoire (pas de <em>garbage collector</em>)</p></li><li><p>Accès mémoire validés statiquement par le compilateur (<em>borrow checker</em>)</p></li><li><p>Est accompagné de <em>cargo</em> pour la gestion de la compilation et des bibliothèques</p></li></ul></div></div></section><section id="_quelques_domaines_dapplication"><h2>Quelques domaines d&#8217;application</h2><div class="slide-content"><div class="ulist"><div class="title">Parfois vu comme un possible successeur de C/C++</div><ul><li><p>Programmation système</p></li><li><p>Applications en ligne de commande</p></li><li><p>Applications Web (via WebAssembly)</p></li><li><p>Services réseaux</p></li><li><p>Systèmes embarqués.</p></li></ul></div></div></section><section id="_quelques_outils_de_développement"><h2>Quelques outils de développement</h2><div class="slide-content"><div class="ulist"><ul><li><p>Le compilateur <a href="https://doc.rust-lang.org/rustc/index.html"><code>rustc</code></a> ainsi que l&#8217;environnement de développement est préférentiellement installé avec l&#8217;outil de distribution <a href="https://github.com/rust-lang/rustup"><code>rustup</code></a></p></li><li><p><a href="https://doc.rust-lang.org/cargo/index.html"><code>cargo</code></a> est le gestionnaire de compilation et de dépendance</p></li><li><p><a href="https://crates.io/"><code>crates.io</code></a> est le dépôt central des bibliothèques du langage</p></li><li><p><a href="https://github.com/rust-lang/rustfmt"><code>rustfmt</code></a> formate les fichiers sources</p></li><li><p><a href="https://doc.rust-lang.org/rustdoc/index.html"><code>rustdoc</code></a> génère la documentation de l&#8217;API d&#8217;une application</p></li><li><p><a href="https://github.com/rust-lang/rust-clippy"><code>clippy</code></a> est un <em>linter</em> pour le code Rust</p></li></ul></div></div></section><section id="_hello_world_en_rust"><h2>« Hello World » en Rust</h2><div class="slide-content"><div class="listingblock"><div class="title">src/intro/exemples/hello.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">fn main() { <i class="conum" data-value="1"></i><b>(1)</b>
    println!("Hello world!"); <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>Le programme principal est représenté par la fonction <code>main</code></td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>La macro <code>println!</code> affiche un texte sur la sortie standard</td></tr></table></div></div></section><section id="_compilation"><h2>Compilation</h2><div class="slide-content"><h3>Compilateur</h3><div class="listingblock"><div class="title">Le compilateur Rust se nomme <a href="https://doc.rust-lang.org/rustc/index.html"><code>rustc</code></a></div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ rustc hello.rs</code></pre></div></div>
<div class="hdlist"><div class="title">Quelques options</div><table><tr><td class="hdlist1"><code>-L</code></td><td class="hdlist2"><p>ajoute un répertoire au chemin de recherche des bibliothèques</p></td></tr><tr><td class="hdlist1"><code>--edition</code></td><td class="hdlist2"><p>précise l&#8217;<a href="https://doc.rust-lang.org/edition-guide/introduction.html">édition</a> de Rust à utiliser (2015|2018|2021)</p></td></tr><tr><td class="hdlist1"><code>--emit</code></td><td class="hdlist2"><p>spécifie le type de fichiers de sortie à générer</p></td></tr><tr><td class="hdlist1"><code>-g</code></td><td class="hdlist2"><p>inclut les informations de débogage</p></td></tr><tr><td class="hdlist1"><code>-O</code></td><td class="hdlist2"><p>optimise le code</p></td></tr><tr><td class="hdlist1"><code>--explain</code></td><td class="hdlist2"><p>donne des détails sur un message d&#8217;erreur</p></td></tr><tr><td class="hdlist1"><code>--test</code></td><td class="hdlist2"><p>génère un programme pour exécuter les tests à la place du <code>main</code></p></td></tr></table></div></div></section><section><div class="slide-content"><h3>Exécuter le programme</h3><div class="listingblock"><div class="title">Le programme généré est un exécutable natif du système cible</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ ./hello</code></pre></div></div></div></section><section id="_débuter_un_projet_rust"><h2>Débuter un projet Rust</h2><div class="slide-content"><div class="listingblock"><div class="title">L&#8217;initialisation d&#8217;un projet Rust s&#8217;appuie sur <a href="https://doc.rust-lang.org/cargo/index.html"><code>cargo</code></a></div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ cargo new hello
$ tree hello
hello
├── Cargo.toml
└── src
    └── main.rs</code></pre></div></div>
<div class="ulist"><div class="title"><code>cargo</code> initialise un projet Rust avec</div><ul><li><p>un nouveau répertoire du nom du projet,</p></li><li><p>un dépôt <code>git</code>,</p></li><li><p>un fichier <code>Cargo.toml</code> décrivant le projet,</p></li><li><p>un sous-répertoire pour le code source,</p></li><li><p>un fichier <code>main.rs</code> contenant le <code>main</code> du <em>crate</em></p></li></ul></div></div></section><section><div class="slide-content"><h3>Système de build</h3><div class="listingblock"><div class="title">Le système de build intégré avec Rust se nomme <a href="https://doc.rust-lang.org/cargo/index.html"><code>cargo</code></a></div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-noescape="true" data-lang="bash">$ cd src/intro/exemples/hello
$ cargo build
   Compiling hello v0.1.0 (src/intro/exemples/hello)
    Finished dev [unoptimized + debuginfo] target(s) in 0.42s
$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.01s
     Running `target/debug/hello`
Hello, world!</code></pre></div></div>
<div class="hdlist"><div class="title">Quelques commandes et options</div><table><tr><td class="hdlist1"><code>build</code></td><td class="hdlist2"><p>construit le <em>crate</em> en mode débogage</p><div class="dlist"><dl><dt class="hdlist1"><code>--release</code></dt><dd><p>optimise le code et génère en mode distribution</p></dd></dl></div></td></tr><tr><td class="hdlist1"><code>check</code></td><td class="hdlist2"><p>vérifie le <em>crate</em> sans générer d&#8217;exécutable</p></td></tr><tr><td class="hdlist1"><code>run</code></td><td class="hdlist2"><p>exécute le <em>crate</em></p></td></tr><tr><td class="hdlist1"><code>test</code></td><td class="hdlist2"><p>compile et exécute les tests</p></td></tr></table></div></div></section><section id="_notions_de_base"><h2>Notions de base</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un code source Rust est une séquence de caractères Unicode UTF-8</p></li><li><p>Une unité de compilation Rust est dénommée un <a href="https://doc.rust-lang.org/reference/crates-and-source-files.html"><em>crate</em></a> (<em>caisse</em>)</p></li><li><p>Un <em>crate</em> contient des <a href="https://doc.rust-lang.org/reference/items/modules.html"><em>modules</em></a> imbriqués</p></li><li><p>Un fichier source (extension <code>.rs</code>) est un module</p></li><li><p>La plupart des instructions se terminent par un <code>;</code></p></li></ul></div></div></section><section id="_commentaires"><h2>Commentaires</h2><div class="slide-content"><div class="ulist"><ul><li><p><a href="https://doc.rust-lang.org/reference/comments.html">Commentaires</a></p><div class="hdlist"><table><tr><td class="hdlist1"><code>/* &#8230;&#8203; */</code></td><td class="hdlist2"><p>le texte entre <code>/*</code> et <code>*/</code> est ignoré (peuvent être imbriqués)</p></td></tr><tr><td class="hdlist1"><code>/** &#8230;&#8203; */</code></td><td class="hdlist2"><p>commentaire de documentation (équiv. à l&#8217;<a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html">attribut doc</a> <code>#[doc="&#8230;&#8203;"]</code>)</p></td></tr><tr><td class="hdlist1"><code>/*! &#8230;&#8203; */</code></td><td class="hdlist2"><p>commentaire de documentation interne (équiv. à l&#8217;<a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html">attribut doc</a> <code>#[doc="&#8230;&#8203;"]</code>)</p></td></tr><tr><td class="hdlist1"><code>// &#8230;&#8203;</code></td><td class="hdlist2"><p>le texte jusqu&#8217;à la fin de la ligne est ignoré</p></td></tr><tr><td class="hdlist1"><code>/// &#8230;&#8203;</code></td><td class="hdlist2"><p>commentaire de documentation (équiv. à l&#8217;<a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html">attribut doc</a> <code>#[doc="&#8230;&#8203;"]</code>)</p></td></tr><tr><td class="hdlist1"><code>//! &#8230;&#8203;</code></td><td class="hdlist2"><p>commentaire de documentation interne (équiv. à l&#8217;<a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html">attribut doc</a> <code>#[doc="&#8230;&#8203;"]</code>)</p></td></tr></table></div></li></ul></div></div></section><section id="_système_de_typage_2"><h2>Système de typage</h2><div class="slide-content"><div class="ulist"><ul><li><p>Le <a href="https://doc.rust-lang.org/reference/types.html">type</a> d&#8217;une valeur définit l&#8217;interprétation de l&#8217;emplacement mémoire la contenant ainsi que les opérations qu&#8217;on peut lui appliquer</p></li><li><p>Chaque variable ou expression possède un type</p></li><li><p>Rust est un langage à <em>typage statique</em></p></li><li><p>Le compilateur peut en général inférer le type d&#8217;une variable à partir de son contenu</p></li></ul></div></div></section><section id="_types_primitifs"><h2>Types primitifs</h2><div class="slide-content"><div class="hdlist"><table><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.bool.html"><code>bool</code></a></td><td class="hdlist2"><p>Booléen (<code>true</code> ou <code>false</code>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.i8.html"><code>i8</code></a>, <a href="https://doc.rust-lang.org/std/primitive.i16.html"><code>i16</code></a>, <a href="https://doc.rust-lang.org/std/primitive.i32.html"><code>i32</code></a>, <a href="https://doc.rust-lang.org/std/primitive.i64.html"><code>i64</code></a>, <a href="https://doc.rust-lang.org/std/primitive.i128.html"><code>i128</code></a>, <a href="https://doc.rust-lang.org/std/primitive.isize.html"><code>isize</code></a></td><td class="hdlist2"><p>Entier signé (8, 16, 32, 64, 128 bits ou dépendant de l&#8217;architecture)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.u8.html"><code>u8</code></a>, <a href="https://doc.rust-lang.org/std/primitive.u16.html"><code>u16</code></a>, <a href="https://doc.rust-lang.org/std/primitive.u32.html"><code>u32</code></a>, <a href="https://doc.rust-lang.org/std/primitive.u64.html"><code>u64</code></a>, <a href="https://doc.rust-lang.org/std/primitive.u128.html"><code>u128</code></a>, <a href="https://doc.rust-lang.org/std/primitive.usize.html"><code>usize</code></a></td><td class="hdlist2"><p>Entier non signé (8, 16, 32, 64, 128 bits ou dépendant de l&#8217;architecture)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.f32.html"><code>f32</code></a>, <a href="https://doc.rust-lang.org/std/primitive.f64.html"><code>f64</code></a></td><td class="hdlist2"><p>Nombre en virgule flottante (simple ou double précision)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.char.html"><code>char</code></a></td><td class="hdlist2"><p>Caractère Unicode (32 bits)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.str.html"><code>str</code></a></td><td class="hdlist2"><p>Chaîne de caractères UTF-8</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.array.html"><code>array</code></a></td><td class="hdlist2"><p>Tableau de taille fixe</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.tuple.html"><code>tuple</code></a></td><td class="hdlist2"><p>Séquence d&#8217;éléments hétérogènes</p></td></tr></table></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/04_primitive_types">rustlings</a>, <a href="https://practice.course.rs//basic-types/numbers.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_littéraux"><h2>Littéraux</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <a href="https://doc.rust-lang.org/reference/tokens.html#literals">littéral</a> représente la valeur d&#8217;un type</p></li><li><p>Quelques littéraux</p><div class="hdlist"><table><tr><td class="hdlist1"><code>'C'</code></td><td class="hdlist2"><p>Caractère Unicode (<code>b&#8217;C'</code> pour un caractère ASCII)</p></td></tr><tr><td class="hdlist1"><code>"chaîne"</code></td><td class="hdlist2"><p>Chaîne de caractères Unicode (<code>b"chaîne"</code> pour une chaîne ASCII)</p></td></tr><tr><td class="hdlist1"><code>12345</code></td><td class="hdlist2"><p>Entier (<code>0xFF</code> en hexa, <code>0o77</code> en octal, <code>0b1111</code> en binaire)</p></td></tr><tr><td class="hdlist1"><code>123.0E+77</code></td><td class="hdlist2"><p>Nombre à virgule flottante</p></td></tr></table></div></li><li><p>Le caractère <code>_</code> peut être utilisé pour rendre les nombres plus lisibles</p></li><li><p>Un suffixe de type sur un nombre permet de préciser le type souhaité (<code>123u64</code>, <code>12E+99_f64</code>)</p></li></ul></div></div></section><section id="_variables"><h2>Variables</h2><div class="slide-content"><div class="ulist"><ul><li><p>Les variables en Rust sont par défaut immuables</p><div class="ulist"><ul><li><p>quand une valeur est attachée à une variable, elle ne peut plus être modifiée</p></li></ul></div></li><li><p>Le mot-clé <code>let</code> permet de déclarer une variable</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let x = 5;</code></pre></div></div></li><li><p>Une variable peut être rendue modifiable avec le mot-clé <code>mut</code></p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let mut x = 5;</code></pre></div></div></li><li><p>Le nom d&#8217;une variable peut être réutilisé (<a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#shadowing"><em>Shadowing</em></a>)</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let x = 5;
let x = x * 2;</code></pre></div></div></li><li><p>Chaque variable possède un type qui est inféré la plupart du temps</p></li><li><p>Le type d&#8217;une variable peut aussi être précisé</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let x: u32 = 5;</code></pre></div></div></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/01_variables">rustlings</a>, <a href="https://practice.course.rs//variables.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/variable_bindings.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_constantes"><h2>Constantes</h2><div class="slide-content"><div class="ulist"><ul><li><p>Une <a href="https://doc.rust-lang.org/reference/items/constant-items.html">constante</a> est introduite par le mot-clé <code>const</code> et doit être annotée par son type</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">const MAX_POINTS: u32 = 100_000;</code></pre></div></div></li><li><p>Une constante peut être déclarée dans n&#8217;importe quelle portée et doit être initialisée par une expression constante</p></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://doc.rust-lang.org/stable/rust-by-example/custom_types/constants.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_référence"><h2>Référence</h2><div class="slide-content"><div class="ulist"><ul><li><p>En Rust, toute valeur <em>appartient</em> à une variable (<a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html"><em>ownership</em></a>)</p><div class="ulist"><ul><li><p>à un instant donné, il ne peut y avoir qu&#8217;un unique propriétaire</p></li><li><p>quand le propriétaire sort de sa portée, la valeur est détruite</p></li></ul></div></li><li><p>Il est possible d'<em>emprunter</em> (<em>borrow</em>) la valeur d&#8217;une variable avec une référence (<code>&amp;</code>)</p><div class="ulist"><ul><li><p>la propriété n&#8217;est alors pas transférée</p></li><li><p>pour pouvoir modifier une valeur par l&#8217;intermédiaire d&#8217;une référence, il faut que cette dernière soit modifiable (<code>&amp;mut</code>)</p></li><li><p>quand il existe une référence mutable pour une valeur, aucune autre référence ne peut pointer sur la valeur</p></li></ul></div></li><li><p>Pour déréférencer une référence, on utilise l&#8217;opérateur <code>*</code></p><div class="ulist"><ul><li><p>la plupart du temps, le déréférencement se fait implicitement</p></li></ul></div></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content"><div class="ulist"><ul><li><p>Voir l&#8217;exemple sur les chaînes de caractères</p></li><li><p>Expérimentez (<a href="https://practice.course.rs//ownership/borrowing.html">Rust By Practice</a>)</p></li></ul></div></td></tr></table></div></div></section><section id="_slice"><h2>Slice</h2><div class="slide-content"><div class="ulist"><ul><li><p>Un <a href="https://doc.rust-lang.org/book/ch04-03-slices.html"><em>slice</em></a> (<code>[T]</code>) est un type primitif permettant de référencer une portion d&#8217;une séquence contiguëe d&#8217;éléments</p><div class="ulist"><ul><li><p>c&#8217;est une vue sur un bloc de mémoire représentée par un pointeur et une taille</p></li><li><p>cf. le type primitif <a href="https://doc.rust-lang.org/std/primitive.slice.html">slice</a></p></li><li><p>cf. le module <a href="https://doc.rust-lang.org/std/slice/index.html"><code>std::slice</code></a></p></li></ul></div></li><li><p>Un slice est une sorte de référence (donc n&#8217;est pas propriétaire)</p></li><li><p>Un slice peut être immuable (<code>&amp;[T]</code>) ou modifiable (<code>&amp;mut [T]</code>)</p></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content"><div class="ulist"><ul><li><p>Voir l&#8217;exemple sur les chaînes de caractères</p></li><li><p>Expérimentez (<a href="https://practice.course.rs//compound-types/slice.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/array.html">Rust by Example</a>)</p></li></ul></div></td></tr></table></div></div></section><section id="_smart_pointers"><h2><em>Smart pointers</em></h2><div class="slide-content"><div class="hdlist"><div class="title">En plus des références, la bibliothèque standard propose différents types de <em>smart pointers</em><sup><span class="icon"><a class="image" href="https://en.wikipedia.org/wiki/Smart_pointer"><i class="fa fa-wikipedia-w"></i></a></span></sup></div><table><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/boxed/index.html"><code>Box&lt;T&gt;</code></a></td><td class="hdlist2"><p>pour allouer des valeurs sur le tas</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/rc/index.html"><code>Rc&lt;T&gt;</code></a></td><td class="hdlist2"><p>un type de comptage de références pour gérer les propriétaires multiples</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/cell/index.html"><code>Ref&lt;T&gt;</code>, <code>RefMut&lt;T&gt;</code></a></td><td class="hdlist2"><p>accédé par <code>RefCell&lt;T&gt;</code>, un type pour gérer les emprunts lors de l&#8217;exécution au lieu de la compilation</p></td></tr></table></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://doc.rust-lang.org/stable/rust-by-example/std/box.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_chaînes_de_caractères"><h2>Chaînes de caractères</h2><div class="slide-content"><h3>Type primitif <a href="https://doc.rust-lang.org/1.54.0/std/primitive.str.html"><code>str</code></a></h3><div class="ulist"><ul><li><p>Le type primitif <a href="https://doc.rust-lang.org/1.54.0/std/primitive.str.html"><code>str</code></a> est un slice de type <code>[u8]</code> (séquence d&#8217;octet)</p><div class="ulist"><ul><li><p>la plupart des fonctions suppose qu&#8217;une valeur de type <code>str</code> contient une chaîne UTF-8</p></li></ul></div></li><li><p>Généralement manipulé sous la forme empruntée <code>&amp;str</code></p></li><li><p>Un littéral est de type <code>&amp;'static str</code></p></li><li><p>Le module <a href="https://doc.rust-lang.org/std/str/index.html">std::str</a> permet la manipulation des variables de ce type</p></li><li><p>Quelques opérations :
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.chars"><code>chars</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.contains"><code>contains</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.find"><code>find</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.get"><code>get</code></a>
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.is_empty"><code>is_empty</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.len"><code>len</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.replace"><code>replace</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.split"><code>split</code></a>,
<a href="https://doc.rust-lang.org/std/primitive.str.html#method.trim"><code>trim</code></a></p></li></ul></div></div></section><section><div class="slide-content"><h3>Exemple</h3><div class="listingblock"><div class="title">src/intro/exemples/strings.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let hello = "Hello, world!"; <i class="conum" data-value="1"></i><b>(1)</b>
assert!(!hello.is_empty());
assert_eq!(13, hello.len());

assert_eq!("Hello", &amp;hello[0..5]); <i class="conum" data-value="2"></i><b>(2)</b>
assert_eq!(Some("world"), hello.get(7..12));

println!("{}", hello); <i class="conum" data-value="3"></i><b>(3)</b></code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>hello</code> est de type <code>&amp;'static str</code></td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>Extraction d&#8217;un sous-slice</td></tr><tr><td><i class="conum" data-value="3"></i><b>3</b></td><td>La macro <code>println!</code> formate et affiche une chaîne sur la sortie standard</td></tr></table></div></div></section><section><div class="slide-content"><h3>Type <a href="https://doc.rust-lang.org/std/string/struct.String.html">std::string::String</a></h3><div class="ulist"><ul><li><p>Le type <a href="https://doc.rust-lang.org/std/string/struct.String.html">std::string::String</a> est le type chaîne de caractères proposé par la bibliothèque standard</p></li><li><p>Une instance de ce type possède la propriété du contenu de la chaîne</p></li><li><p>Quelques opérations :
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.new"><code>new</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.with_capacity"><code>with_capacity</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#impl-From%3C%26str%3E"><code>from</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.capacity"><code>capacity</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.clear"><code>clear</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.insert"><code>insert</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.is_empty"><code>is_empty</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.len"><code>len</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#method.push_str"><code>push_str</code></a>,
<a href="https://doc.rust-lang.org/std/string/struct.String.html#impl-Add%3C%26str%3E"><code>+</code></a> (concaténation),
<a href="https://doc.rust-lang.org/std/macro.format.html"><code>format!</code></a></p></li></ul></div></div></section><section><div class="slide-content"><h3>Exemple</h3><div class="listingblock"><div class="title">src/intro/exemples/strings.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let hello = "Hello".to_string(); <i class="conum" data-value="1"></i><b>(1)</b>
assert!(!hello.is_empty());
assert_eq!(5, hello.len());

let mut world = String::from("world");
assert_eq!(5, world.len());

let msg = hello + &amp;world;  <i class="conum" data-value="2"></i><b>(2)</b>
assert_eq!("Helloworld", msg);

world.insert_str(0, "Hello");
assert_eq!("Helloworld", world);

world.insert_str(5, ", ");
assert_eq!("Hello, world", world);

world.push_str(" !");
assert_eq!("Hello, world !", world);</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>hello</code> et <code>world</code> sont de type <code>String</code></td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>Concatène les deux variables (<code>hello</code> est déplacé, <code>world</code> est emprunté)</td></tr></table></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/09_strings">rustlings</a>, <a href="https://practice.course.rs//compound-types/string.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/std/str.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_structures_de_contrôle"><h2>Structures de contrôle</h2><div class="slide-content"><h3>Conditionnelle</h3><h4>Expression <a href="https://doc.rust-lang.org/reference/expressions/if-expr.html"><code>if</code></a></h4><div class="listingblock"><div class="title">src/intro/exemples/control.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let celsius = true; // false -&gt; Fahrenheit

let freeze_temp = if celsius { 0 } else { 32 }; <i class="conum" data-value="1"></i><b>(1)</b>
assert_eq!(0, freeze_temp);

let temperature = 12;
assert!(temperature &gt; freeze_temp);

if temperature &lt; freeze_temp { <i class="conum" data-value="2"></i><b>(2)</b>
    println!("Freezing");
} else {
    println!("Not freezing");
}</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>if</code> est une expression</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td><code>if</code> peut être utilisée comme une instruction</td></tr></table></div></div></section><section><div class="slide-content"><h4>Expression <a href="https://doc.rust-lang.org/reference/expressions/match-expr.html"><code>match</code></a></h4><div class="listingblock"><div class="title">src/intro/exemples/control.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let message = match temperature {
    -20 ..= -1 =&gt; "Froid", <i class="conum" data-value="1"></i><b>(1)</b>
    0 =&gt; "Limite", <i class="conum" data-value="2"></i><b>(2)</b>
    1 ..= 10 =&gt; "Frais",
    11 ..= 25 =&gt; "Idéal",
    _ =&gt; "Insupportable", <i class="conum" data-value="3"></i><b>(3)</b>
};
assert_eq!("Idéal", message);</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><a href="https://doc.rust-lang.org/reference/expressions/range-expr.html">Intervalle</a> [-20, -1]</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>La valeur 0</td></tr><tr><td><i class="conum" data-value="3"></i><b>3</b></td><td>Toutes les autres valeurs</td></tr></table></div></div></section><section><div class="slide-content"><h3>Boucles</h3><h4>Expression <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#infinite-loops"><code>loop</code></a></h4><div class="listingblock"><div class="title">src/intro/exemples/control.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let mut counter = 0;
let result = loop { <i class="conum" data-value="1"></i><b>(1)</b>
    counter += 1;
    if counter == 10 {
        break counter * 2; <i class="conum" data-value="2"></i><b>(2)</b>
    }
};
assert_eq!(20, result);</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>la boucle se poursuit tant que le mot-clé <code>break</code> n&#8217;est pas utilisé</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>une expression <code>loop</code> terminée par <code>break</code> accepte une valeur de retour</td></tr></table></div></div></section><section><div class="slide-content"><h4>Expression <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#predicate-loops"><code>while</code></a></h4><div class="listingblock"><div class="title">src/intro/exemples/control.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let mut number = 5;
while number != 0 { <i class="conum" data-value="1"></i><b>(1)</b>
    println!("{}", number);
    number -= 1;
}
assert_eq!(0, number);</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>la boucle se poursuit tant que la condition est vraie</td></tr></table></div></div></section><section><div class="slide-content"><h4>Expression <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#iterator-loops"><code>for</code></a></h4><div class="listingblock"><div class="title">src/intro/exemples/control.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">let elements = [10, 20, 30, 40, 50];

for element in elements.iter() { <i class="conum" data-value="1"></i><b>(1)</b>
    println!("the value is: {}", element);
}

for number in (1..4).rev() { <i class="conum" data-value="2"></i><b>(2)</b>
    println!("{}!", number);
}</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>for</code> permet d&#8217;itérer sur les éléments d&#8217;une collection</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>en utilisant le type <a href="https://doc.rust-lang.org/std/ops/struct.Range.html"><code>Range</code></a>, on peut manipuler des indices</td></tr></table></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/03_if">rustlings</a>, <a href="https://practice.course.rs//flow-control.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_fonction"><h2>Fonction</h2><div class="slide-content"><div class="ulist"><ul><li><p>La définition d&#8217;une <a href="https://doc.rust-lang.org/book/ch03-03-how-functions-work.html">fonction</a> est introduite par le mot-clé <code>fn</code></p></li><li><p>Par convention, le nom de la fonction est écrit en <em>snake case</em><sup><span class="icon"><a class="image" href="https://fr.wikipedia.org/wiki/Snake_case"><i class="fa fa-wikipedia-w"></i></a></span></sup></p></li><li><p>Les paramètres sont entre parenthèses et leurs types doivent être précisés</p></li><li><p>Le corps de la fonction est entre accolades <code>{ }</code></p><div class="listingblock"><div class="title">src/intro/exemples/function.rs</div><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">fn another_function(x: i32) {
    println!("The value of x is: {}", x);
}</code></pre></div></div></li><li><p>Une fonction retourne la valeur de la dernière expression ou l&#8217;argument de <code>return</code></p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">fn five() -&gt; i32 { <i class="conum" data-value="1"></i><b>(1)</b>
    5
}</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>l&#8217;annotation de type après <code>&#8594;</code> précise le type de retour</td></tr></table></div></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/02_functions">rustlings</a>, <a href="https://practice.course.rs//basic-types/functions.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/fn.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_système_de_modules"><h2>Système de modules</h2><div class="slide-content"><div class="ulist"><ul><li><p>Rust supporte différents moyens pour organiser un projet</p><div class="hdlist"><table><tr><td class="hdlist1">Package</td><td class="hdlist2"><p>permet de construire, tester et partager des crates avec Cargo</p></td></tr><tr><td class="hdlist1">Crate</td><td class="hdlist2"><p>est un arbre de modules produisant une bibliothèque ou un exécutable</p></td></tr><tr><td class="hdlist1">Module</td><td class="hdlist2"><p>permet de contrôler l&#8217;organisation, l&#8217;encapsulation et la portée des <em>paths</em> (avec <code>use</code>)</p></td></tr><tr><td class="hdlist1">Path</td><td class="hdlist2"><p>est un moyen de nommer un item (fonction, module, …)</p></td></tr></table></div></li><li><p>Le mot-clé <code>use</code> importe un <em>path</em> dans la portée courante</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-rust hljs" data-noescape="true" data-lang="rust">use std::fmt::Result;
use std::io::Result as IoResult;</code></pre></div></div></li></ul></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Expérimentez (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/10_modules">rustlings</a>, <a href="https://practice.course.rs//crate-module/intro.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/mod.html">Rust by Example</a>)</td></tr></table></div></div></section><section id="_bibliothèques"><h2>Bibliothèques</h2><div class="slide-content"><div class="ulist"><ul><li><p>Rust est distribué avec une riche <a href="https://doc.rust-lang.org/std/index.html">bibliothèque standard</a></p><div class="ulist"><ul><li><p>accessible par le <em>path</em> <code>std</code></p></li><li><p>le module <a href="https://doc.rust-lang.org/std/prelude/index.html"><code>std::prelude</code></a> est automatiquement importé dans chaque programme</p></li><li><p>contient entre autre des types importants comme <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html"><code>Vec&lt;T&gt;</code></a> et <a href="https://doc.rust-lang.org/std/option/enum.Option.html"><code>Option&lt;T&gt;</code></a>, des <a href="https://doc.rust-lang.org/std/index.html#primitives">opérations</a> sur les types primitifs, des <a href="https://doc.rust-lang.org/std/index.html#macros">macros</a> et des abstractions pour les <a href="https://doc.rust-lang.org/std/io/index.html">I/O</a> et le <a href="https://doc.rust-lang.org/std/thread/index.html">multithreading</a></p></li></ul></div></li><li><p>Bibliothèques externes avec Cargo et <a href="https://crates.io/">crates.io</a></p></li></ul></div></div></section><section id="_quelques_types_et_modules_importants"><h2>Quelques types et modules importants</h2><div class="slide-content"><div class="hdlist"><table><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/ops/struct.Range.html"><code>Range</code></a></td><td class="hdlist2"><p>représente un intervalle (littéral <code>start..end</code>) (<a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/for.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/primitive.tuple.html"><code>Tuple</code></a></td><td class="hdlist2"><p>une séquence finie et hétérogène d&#8217;éléments (littéral <code>("hello", 5, 'c')</code>) (<a href="https://practice.course.rs//compound-types/tuple.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/tuples.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/1.54.0/std/primitive.array.html"><code>Tableau</code></a></td><td class="hdlist2"><p>un tableau de taille fixe d&#8217;éléments de même type (littéral <code>[x, y, z]</code> ou <code>[x; N]</code>) (<a href="https://practice.course.rs//compound-types/array.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/array.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/vec/struct.Vec.html"><code>Vec&lt;T&gt;</code></a></td><td class="hdlist2"><p>un tableau de taille variable (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/05_vecs">rustlings</a>, <a href="https://practice.course.rs//collections/vector.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/std/vec.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/result/index.html"><code>Result&lt;T, E&gt;</code></a></td><td class="hdlist2"><p>pour retourner et propager une erreur (<a href="https://practice.course.rs//result-panic/result.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/std/result.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/option/index.html"><code>Option&lt;T&gt;</code></a></td><td class="hdlist2"><p>pour représenter une valeur optionnel (<a href="https://github.com/rust-lang/rustlings/tree/main/exercises/12_options">rustlings</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/std/option.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/collections/index.html">std::collections</a></td><td class="hdlist2"><p>manipulation de collections</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/fmt/index.html">std::fmt</a></td><td class="hdlist2"><p>formatage de chaînes de caractères (<a href="https://practice.course.rs//formatted-output/formatting.html">Rust By Practice</a>, <a href="https://doc.rust-lang.org/stable/rust-by-example/hello/print.html">Rust by Example</a>)</p></td></tr><tr><td class="hdlist1"><a href="https://doc.rust-lang.org/std/io/index.html">std::io</a></td><td class="hdlist2"><p>gestion des I/O (<a href="https://doc.rust-lang.org/stable/rust-by-example/std_misc/file.html">Rust by Example</a>)</p></td></tr></table></div></div></section><section id="_références_2"><h2>Références</h2><div class="slide-content"><h3>Documentation officielle</h3><div class="ulist"><ul><li><p><a href="https://www.rust-lang.org/fr/">Site officiel</a></p></li><li><p><a href="https://doc.rust-lang.org/book/">The Rust Programming Language</a>, <em>Steve Klabnik and Carol Nichols</em></p><div class="ulist"><ul><li><p><a href="https://rust-book.cs.brown.edu/">version avec quizz</a></p></li></ul></div></li><li><p><a href="https://doc.rust-lang.org/std/index.html">Documentation</a> de la bibliothèque standard</p></li><li><p><a href="https://doc.rust-lang.org/reference/index.html">Référence</a> du langage</p></li><li><p><a href="https://doc.rust-lang.org/nomicon/intro.html">The Rustonomicon</a></p></li></ul></div></div></section><section><div class="slide-content"><h3>Autres documents</h3><div class="ulist"><ul><li><p><a href="https://google.github.io/comprehensive-rust/">Comprehensive Rust</a>, Google</p></li><li><p><a href="https://stevedonovan.github.io/rust-gentle-intro/">A Gentle Introduction To Rust</a>, <em>Steve Donovan</em></p></li><li><p><a href="https://blog.guillaume-gomez.fr/Rust/">Tutoriel Rust</a>, <em>Guillaume Gomez</em></p></li><li><p><a href="https://www.lurklurk.org/effective-rust/title-page.html">Effective Rust</a>, <em>David Drysdale</em>, 2024</p></li><li><p><a href="https://cliffle.com/p/dangerust/">Learn Rust the Dangerous Way</a>, <em>Cliff L. Biffle</em>, 2024</p></li><li><p><a href="https://cheats.rs/">Rust Language Cheat Sheet</a>, <em>Ralf Biedert</em></p></li><li><p><a href="https://serokell.io/blog/learn-rust">17 Resources to Help You Learn Rust in 2022</a>, <em>Gints Dreimanis</em>, 2022</p></li><li><p><a href="https://grasland.pages.in2p3.fr/rust-cpp-intro/">Rust vu du C++</a>, <em>Hadrien Grasland</em>, 2023</p></li><li><p><a href="https://blog.jetbrains.com/fr/rust/2024/11/22/comment-se-former-a-rust-en-2024-un-guide-complet-pour-aider-les-debutants-a-maitriser-la-programmation-rust/">Comment se former à Rust en 2024</a>, <em>JetBrains</em>, 2024</p></li><li><p><a href="https://discord.com/blog/why-discord-is-switching-from-go-to-rust">Pourquoi Discord passe de Go à Rust</a>, <em>Jesse Howarth</em>, 2020</p></li></ul></div></div></section><section><div class="slide-content"><h3>Apprendre en codant</h3><div class="ulist"><ul><li><p><a href="https://play.rust-lang.org/">Playground</a> (coder dans le navigateur)</p></li><li><p><a href="https://github.com/rust-lang/rustlings/">rustlings</a> (ensemble d&#8217;exercices pour apprendre le langage)</p></li><li><p><a href="https://doc.rust-lang.org/stable/rust-by-example/">Rust by Example</a> (exemples exécutables dans le navigateur)</p></li><li><p><a href="https://practice.course.rs//why-exercise.html">Rust by practice</a></p></li><li><p><a href="https://rust-unofficial.github.io/too-many-lists/">Learn Rust With Entirely Too Many Linked Lists</a></p></li><li><p><a href="https://jrdngr.github.io/pngme_book/">PNGme: An Intermediate Rust Project</a>, 2024</p></li></ul></div></div></section><section><div class="slide-content"><h3>Sujets spécifiques</h3><div class="ulist"><ul><li><p><a href="https://corrode.dev/blog/prototyping/">Prototyping in Rust</a>, <em>Matthias Endler</em>, 2025</p></li><li><p><a href="https://www.howtocodeit.com/articles/ultimate-guide-rust-newtypes#what-are-newtype-wrappers-in-rust">The ultimate guide to Rust newtypes</a>, <em>How To Code It</em>, 2023</p></li><li><p><a href="https://www.howtocodeit.com/articles/the-definitive-guide-to-rust-error-handling">The definitive guide to error handling in Rust</a>, <em>How To Code It</em>, 2024</p></li><li><p><a href="https://sabrinajewson.org/blog/errors">Modular Errors in Rust</a>, <em>Sabrina Jewson</em>, 2023</p></li></ul></div></div></section></section></div></div><script src="reveal.js/dist/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'true',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/plugin/zoom/zoom.js', async: true, callback: function () { Reveal.registerPlugin(RevealZoom) } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, callback: function () { Reveal.registerPlugin(RevealNotes) } }
  ],
});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(960, 700)
});</script><link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/highlight.min.js"></script>

<script>

/* highlightjs-line-numbers.js 2.6.0 | (C) 2018 Yauheni Pakala | MIT License | github.com/wcoder/highlightjs-line-numbers.js */
/* Edited by Hakim for reveal.js; removed async timeout */
!function(n,e){"use strict";function t(){var n=e.createElement("style");n.type="text/css",n.innerHTML=g(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[v,L,b]),e.getElementsByTagName("head")[0].appendChild(n)}function r(t){"interactive"===e.readyState||"complete"===e.readyState?i(t):n.addEventListener("DOMContentLoaded",function(){i(t)})}function i(t){try{var r=e.querySelectorAll("code.hljs,code.nohighlight");for(var i in r)r.hasOwnProperty(i)&&l(r[i],t)}catch(o){n.console.error("LineNumbers error: ",o)}}function l(n,e){"object"==typeof n&&f(function(){n.innerHTML=s(n,e)})}function o(n,e){if("string"==typeof n){var t=document.createElement("code");return t.innerHTML=n,s(t,e)}}function s(n,e){e=e||{singleLine:!1};var t=e.singleLine?0:1;return c(n),a(n.innerHTML,t)}function a(n,e){var t=u(n);if(""===t[t.length-1].trim()&&t.pop(),t.length>e){for(var r="",i=0,l=t.length;i<l;i++)r+=g('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[j,m,L,b,p,i+1,t[i].length>0?t[i]:" "]);return g('<table class="{0}">{1}</table>',[v,r])}return n}function c(n){var e=n.childNodes;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];h(r.textContent)>0&&(r.childNodes.length>0?c(r):d(r.parentNode))}}function d(n){var e=n.className;if(/hljs-/.test(e)){for(var t=u(n.innerHTML),r=0,i="";r<t.length;r++){var l=t[r].length>0?t[r]:" ";i+=g('<span class="{0}">{1}</span>\n',[e,l])}n.innerHTML=i.trim()}}function u(n){return 0===n.length?[]:n.split(y)}function h(n){return(n.trim().match(y)||[]).length}function f(e){e()}function g(n,e){return n.replace(/{(\d+)}/g,function(n,t){return e[t]?e[t]:n})}var v="hljs-ln",m="hljs-ln-line",p="hljs-ln-code",j="hljs-ln-numbers",L="hljs-ln-n",b="data-line-number",y=/\r\n|\r|\n/g;n.hljs?(n.hljs.initLineNumbersOnLoad=r,n.hljs.lineNumbersBlock=l,n.hljs.lineNumbersValue=o,t()):n.console.error("highlight.js not detected!")}(window,document);

/**
 * This reveal.js plugin is wrapper around the highlight.js
 * syntax highlighting library.
 */
(function( root, factory ) {
  if (typeof define === 'function' && define.amd) {
    root.RevealHighlight = factory();
  } else if( typeof exports === 'object' ) {
    module.exports = factory();
  } else {
    // Browser globals (root is window)
    root.RevealHighlight = factory();
  }
}( this, function() {

  // Function to perform a better "data-trim" on code snippets
  // Will slice an indentation amount on each line of the snippet (amount based on the line having the lowest indentation length)
  function betterTrim(snippetEl) {
    // Helper functions
    function trimLeft(val) {
      // Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill
      return val.replace(/^[\s\uFEFF\xA0]+/g, '');
    }
    function trimLineBreaks(input) {
      var lines = input.split('\n');

      // Trim line-breaks from the beginning
      for (var i = 0; i < lines.length; i++) {
        if (lines[i].trim() === '') {
          lines.splice(i--, 1);
        } else break;
      }

      // Trim line-breaks from the end
      for (var i = lines.length-1; i >= 0; i--) {
        if (lines[i].trim() === '') {
          lines.splice(i, 1);
        } else break;
      }

      return lines.join('\n');
    }

    // Main function for betterTrim()
    return (function(snippetEl) {
      var content = trimLineBreaks(snippetEl.innerHTML);
      var lines = content.split('\n');
      // Calculate the minimum amount to remove on each line start of the snippet (can be 0)
      var pad = lines.reduce(function(acc, line) {
        if (line.length > 0 && trimLeft(line).length > 0 && acc > line.length - trimLeft(line).length) {
          return line.length - trimLeft(line).length;
        }
        return acc;
      }, Number.POSITIVE_INFINITY);
      // Slice each line with this amount
      return lines.map(function(line, index) {
        return line.slice(pad);
      })
        .join('\n');
    })(snippetEl);
  }

  var RevealHighlight = {

    HIGHLIGHT_STEP_DELIMITER: '|',
    HIGHLIGHT_LINE_DELIMITER: ',',
    HIGHLIGHT_LINE_RANGE_DELIMITER: '-',

    init: function( reveal ) {

      // Read the plugin config options and provide fallbacks
      var config = Reveal.getConfig().highlight || {};
      config.highlightOnLoad = typeof config.highlightOnLoad === 'boolean' ? config.highlightOnLoad : true;
      config.escapeHTML = typeof config.escapeHTML === 'boolean' ? config.escapeHTML : true;

      [].slice.call( reveal.getRevealElement().querySelectorAll( 'pre code' ) ).forEach( function( block ) {

        block.parentNode.className = 'code-wrapper';

        // Code can optionally be wrapped in script template to avoid
        // HTML being parsed by the browser (i.e. when you need to
        // include <, > or & in your code).
        let substitute = block.querySelector( 'script[type="text/template"]' );
        if( substitute ) {
          // textContent handles the HTML entity escapes for us
          block.textContent = substitute.innerHTML;
        }

        // Trim whitespace if the "data-trim" attribute is present
        if( block.hasAttribute( 'data-trim' ) && typeof block.innerHTML.trim === 'function' ) {
          block.innerHTML = betterTrim( block );
        }

        // Escape HTML tags unless the "data-noescape" attrbute is present
        if( config.escapeHTML && !block.hasAttribute( 'data-noescape' )) {
          block.innerHTML = block.innerHTML.replace( /</g,"&lt;").replace(/>/g, '&gt;' );
        }

        // Re-highlight when focus is lost (for contenteditable code)
        block.addEventListener( 'focusout', function( event ) {
          hljs.highlightElement( event.currentTarget );
        }, false );

        if( config.highlightOnLoad ) {
          RevealHighlight.highlightBlock( block );
        }
      } );

      // If we're printing to PDF, scroll the code highlights of
      // all blocks in the deck into view at once
      reveal.on( 'pdf-ready', function() {
        [].slice.call( reveal.getRevealElement().querySelectorAll( 'pre code[data-line-numbers].current-fragment' ) ).forEach( function( block ) {
          RevealHighlight.scrollHighlightedLineIntoView( block, {}, true );
        } );
      } );
    },

    /**
     * Highlights a code block. If the <code> node has the
     * 'data-line-numbers' attribute we also generate slide
     * numbers.
     *
     * If the block contains multiple line highlight steps,
     * we clone the block and create a fragment for each step.
     */
    highlightBlock: function( block ) {

      hljs.highlightElement( block );

      // Don't generate line numbers for empty code blocks
      if( block.innerHTML.trim().length === 0 ) return;

      if( block.hasAttribute( 'data-line-numbers' ) ) {
        hljs.lineNumbersBlock( block, { singleLine: true } );

        var scrollState = { currentBlock: block };

        // If there is at least one highlight step, generate
        // fragments
        var highlightSteps = RevealHighlight.deserializeHighlightSteps( block.getAttribute( 'data-line-numbers' ) );
        if( highlightSteps.length > 1 ) {

          // When rendered with asciidoc, data-fragment index if it exists lies on the listing block element, so we have to lookup
          // If the original code block has a fragment-index,
          // each clone should follow in an incremental sequence
          var preCodeWrapper = block.parentElement;
          var divContent = preCodeWrapper.parentElement;
          var listingBlock = divContent.parentElement;
          var fragmentIndex = parseInt( listingBlock.getAttribute( 'data-fragment-index' ), 10 );

          if( typeof fragmentIndex !== 'number' || isNaN( fragmentIndex ) ) {
            fragmentIndex = null;
          } else {
            fragmentIndex += 1;
          }

          // Generate fragments for all steps except the original block
          highlightSteps.slice(1).forEach( function( highlight ) {

            var fragmentBlock = block.cloneNode( true );
            fragmentBlock.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlight ] ) );
            fragmentBlock.classList.add( 'fragment' );
            block.parentNode.appendChild( fragmentBlock );
            RevealHighlight.highlightLines( fragmentBlock );

            if( typeof fragmentIndex === 'number' ) {
              fragmentBlock.setAttribute( 'data-fragment-index', fragmentIndex );
              fragmentIndex += 1;
            }
            else {
              fragmentBlock.removeAttribute( 'data-fragment-index' );
            }

            // Scroll highlights into view as we step through them
            fragmentBlock.addEventListener( 'visible', RevealHighlight.scrollHighlightedLineIntoView.bind( Plugin, fragmentBlock, scrollState ) );
            fragmentBlock.addEventListener( 'hidden', RevealHighlight.scrollHighlightedLineIntoView.bind( Plugin, fragmentBlock.previousSibling, scrollState ) );

          } );

          block.removeAttribute( 'data-fragment-index' )
          block.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlightSteps[0] ] ) );

        }

        // Scroll the first highlight into view when the slide
        // becomes visible. Note supported in IE11 since it lacks
        // support for Element.closest.
        var slide = typeof block.closest === 'function' ? block.closest( 'section:not(.stack)' ) : null;
        if( slide ) {
          var scrollFirstHighlightIntoView = function() {
            RevealHighlight.scrollHighlightedLineIntoView( block, scrollState, true );
            slide.removeEventListener( 'visible', scrollFirstHighlightIntoView );
          }
          slide.addEventListener( 'visible', scrollFirstHighlightIntoView );
        }

        RevealHighlight.highlightLines( block );

      }

    },

    /**
     * Animates scrolling to the first highlighted line
     * in the given code block.
     */
    scrollHighlightedLineIntoView: function( block, scrollState, skipAnimation ) {

      cancelAnimationFrame( scrollState.animationFrameID );

      // Match the scroll position of the currently visible
      // code block
      if( scrollState.currentBlock ) {
        block.scrollTop = scrollState.currentBlock.scrollTop;
      }

      // Remember the current code block so that we can match
      // its scroll position when showing/hiding fragments
      scrollState.currentBlock = block;

      var highlightBounds = RevealHighlight.getHighlightedLineBounds( block )
      var viewportHeight = block.offsetHeight;

      // Subtract padding from the viewport height
      var blockStyles = getComputedStyle( block );
      viewportHeight -= parseInt( blockStyles.paddingTop ) + parseInt( blockStyles.paddingBottom );

      // Scroll position which centers all highlights
      var startTop = block.scrollTop;
      var targetTop = highlightBounds.top + ( Math.min( highlightBounds.bottom - highlightBounds.top, viewportHeight ) - viewportHeight ) / 2;

      // Account for offsets in position applied to the
      // <table> that holds our lines of code
      var lineTable = block.querySelector( '.hljs-ln' );
      if( lineTable ) targetTop += lineTable.offsetTop - parseInt( blockStyles.paddingTop );

      // Make sure the scroll target is within bounds
      targetTop = Math.max( Math.min( targetTop, block.scrollHeight - viewportHeight ), 0 );

      if( skipAnimation === true || startTop === targetTop ) {
        block.scrollTop = targetTop;
      }
      else {

        // Don't attempt to scroll if there is no overflow
        if( block.scrollHeight <= viewportHeight ) return;

        var time = 0;
        var animate = function() {
          time = Math.min( time + 0.02, 1 );

          // Update our eased scroll position
          block.scrollTop = startTop + ( targetTop - startTop ) * RevealHighlight.easeInOutQuart( time );

          // Keep animating unless we've reached the end
          if( time < 1 ) {
            scrollState.animationFrameID = requestAnimationFrame( animate );
          }
        };

        animate();

      }

    },

    /**
     * The easing function used when scrolling.
     */
    easeInOutQuart: function( t ) {

      // easeInOutQuart
      return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t;

    },

    getHighlightedLineBounds: function( block ) {

      var highlightedLines = block.querySelectorAll( '.highlight-line' );
      if( highlightedLines.length === 0 ) {
        return { top: 0, bottom: 0 };
      }
      else {
        var firstHighlight = highlightedLines[0];
        var lastHighlight = highlightedLines[ highlightedLines.length -1 ];

        return {
          top: firstHighlight.offsetTop,
          bottom: lastHighlight.offsetTop + lastHighlight.offsetHeight
        }
      }

    },

    /**
     * Visually emphasize specific lines within a code block.
     * This only works on blocks with line numbering turned on.
     *
     * @param {HTMLElement} block a <code> block
     * @param {String} [linesToHighlight] The lines that should be
     * highlighted in this format:
     * "1" 		= highlights line 1
     * "2,5"	= highlights lines 2 & 5
     * "2,5-7"	= highlights lines 2, 5, 6 & 7
     */
    highlightLines: function( block, linesToHighlight ) {

      var highlightSteps = RevealHighlight.deserializeHighlightSteps( linesToHighlight || block.getAttribute( 'data-line-numbers' ) );

      if( highlightSteps.length ) {

        highlightSteps[0].forEach( function( highlight ) {

          var elementsToHighlight = [];

          // Highlight a range
          if( typeof highlight.end === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child(n+'+highlight.start+'):nth-child(-n+'+highlight.end+')' ) );
          }
          // Highlight a single line
          else if( typeof highlight.start === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child('+highlight.start+')' ) );
          }

          if( elementsToHighlight.length ) {
            elementsToHighlight.forEach( function( lineElement ) {
              lineElement.classList.add( 'highlight-line' );
            } );

            block.classList.add( 'has-highlights' );
          }

        } );

      }

    },

    /**
     * Parses and formats a user-defined string of line
     * numbers to highlight.
     *
     * @example
     * RevealHighlight.deserializeHighlightSteps( '1,2|3,5-10' )
     * // [
     * //   [ { start: 1 }, { start: 2 } ],
     * //   [ { start: 3 }, { start: 5, end: 10 } ]
     * // ]
     */
    deserializeHighlightSteps: function( highlightSteps ) {

      // Remove whitespace
      highlightSteps = highlightSteps.replace( /\s/g, '' );

      // Divide up our line number groups
      highlightSteps = highlightSteps.split( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

      return highlightSteps.map( function( highlights ) {

        return highlights.split( RevealHighlight.HIGHLIGHT_LINE_DELIMITER ).map( function( highlight ) {

          // Parse valid line numbers
          if( /^[\d-]+$/.test( highlight ) ) {

            highlight = highlight.split( RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER );

            var lineStart = parseInt( highlight[0], 10 ),
              lineEnd = parseInt( highlight[1], 10 );

            if( isNaN( lineEnd ) ) {
              return {
                start: lineStart
              };
            }
            else {
              return {
                start: lineStart,
                end: lineEnd
              };
            }

          }
          // If no line numbers are provided, no code will be highlighted
          else {

            return {};

          }

        } );

      } );

    },

    /**
     * Serializes parsed line number data into a string so
     * that we can store it in the DOM.
     */
    serializeHighlightSteps: function( highlightSteps ) {

      return highlightSteps.map( function( highlights ) {

        return highlights.map( function( highlight ) {

          // Line range
          if( typeof highlight.end === 'number' ) {
            return highlight.start + RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER + highlight.end;
          }
          // Single line
          else if( typeof highlight.start === 'number' ) {
            return highlight.start;
          }
          // All lines
          else {
            return '';
          }

        } ).join( RevealHighlight.HIGHLIGHT_LINE_DELIMITER );

      } ).join( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

    }

  }

  Reveal.registerPlugin( 'highlight', RevealHighlight );

  return RevealHighlight;

}));
        
hljs.configure({
  ignoreUnescapedHTML: true,
});
hljs.highlightAll();
</script></body></html>